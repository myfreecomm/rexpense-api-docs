<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Rexpense API - Expense statuses</title>

    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygments.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <aside id="main-sidebar">
  <img id="main-logo" src="/assets/logo.png">

  <h3>API V1</h3>

  <nav>
    <a href="/api/v1/#summary">Summary</a>
    <a href="/api/v1/#authentication">Authentication</a>
    <a href="/api/v1/#requirements">Requirements</a>
    <a href="/api/v1/#conventions">Conventions</a>

    

    <a href="/api/v1/miscellaneous">Miscellaneous</a>
    
  </nav>

  <h3>Resources</h3>

  <nav>
    <a href="/api/v1/advancements">Advancements</a>
    

    <a href="/api/v1/advancement_participants">Advancements Participants</a>
    

    <a href="/api/v1/attachments">Attachments</a>
    

    <a href="/api/v1/balances">Balances</a>
    

    <a href="/api/v1/comments">Comments</a>
    

    <a href="/api/v1/expenses">Expenses</a>
    

    <a href="/api/v1/expense_participants">Expenses Participants</a>
    

    <a href="/api/v1/expense_statuses">Expenses Statuses</a>
    
      <nav class="subnav">
        <a href="/api/v1/expense_statuses#show">Show statuses</a>
        <a href="/api/v1/expense_statuses#update">Update status</a>
      </nav>
    

    <a href="/api/v1/memberships">Memberships</a>
    

    <a href="/api/v1/mentionables">Mentionables</a>
    

    <a href="/api/v1/organizations">Organizations</a>
    

    <a href="/api/v1/reimbursements">Reimbursements</a>
    

    <a href="/api/v1/tags">Tags</a>
    

    <a href="/api/v1/notification_preferences">User's Notifications Preferences</a>
    

    <a href="/api/v1/preferences">User's Preferences</a>
    

    <a href="/api/v1/uploads">Uploads</a>
    

    <a href="/api/v1/webhooks">Webhooks</a>
    
  </nav>
</aside>

    <article id="main-content">
      <section id="code-content">
        <article id="expense_status">
  <section class="description">
    <h2><a name="expense_status" href="#expense_status">Expense statuses</a></h2>
    <p>This section describes how to handle and update the expense status. There are six possible statuses
    for an expense: </p>
    <table class="parameters">
      <tbody>
        <tr>
          <td valign="top"><strong>awaiting_analysis</strong></td>
          <td valign="top">
            <div style="background-color:#FFFFFF; color:#A2A2A2;padding:5px">
              <strong>#FFFFFF</strong>
            </div>
          </td>
          <td>no manager or admin has analyzed the expense yet</td>
        </tr>
        <tr>
          <td valign="top"><strong>analyzing</strong></td>
          <td valign="top">
            <div style="background-color:#A2A2A2; color:#FFFFFF; padding:5px">
              <strong>#A2A2A2</strong>
            </div>
          </td>
          <td>a manager or an admin has analyzed the expense</td>
        </tr>
        <tr>
          <td valign="top"><strong>pending</strong></td>
          <td valign="top">
            <div style="background-color:#FF9B00; color:#FFFFFF; padding:5px">
              <strong>#FF9B00</strong>
            </div>
          </td>
          <td>there is some information missing in the expense, so the receiver has to complete it</td>
        </tr>
        <tr>
          <td valign="top"><strong>approved</strong></td>
          <td valign="top">
            <div style="background-color:#52A954; color:#FFFFFF; padding:5px">
              <strong>#52A954</strong>
            </div>
          </td>
          <td>a manager or an admin has approved the expense</td>
        </tr>
        <tr>
          <td valign="top"><strong>paid</strong></td>
          <td valign="top">
            <div style="background-color:#529ECC; color:#FFFFFF; padding:5px">
              <strong>#529ECC</strong>
            </div>
          </td>
          <td>the expense has been paid, the receiver received the approved amount</td>
        </tr>
        <tr>
          <td valign="top"><strong>rejected</strong></td>
          <td valign="top">
            <div style="background-color:#D95E40; color:#FFFFFF; padding:5px">
              <strong>#D95E40</strong>
            </div>
          </td>
          <td>a manager or an admin has rejected the expense</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
  </section>
</article>

<article id="show">
  <section class="description">
  <h3><a name="show" href="#show">Show statuses</a></h3>
  <p>List all possible statuses that an expense can change to.</p>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>GET https://app.rexpense.com/api/v1/expenses/:id/status</pre>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/expenses/1/status \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'</pre>
    <h4>Response Example</h4>
    <div class="highlight"><pre><code class="javascript">    <span class="p">{</span>
      <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;slug&quot;</span><span class="o">:</span> <span class="s2">&quot;approved&quot;</span><span class="p">,</span>
          <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Approved&quot;</span><span class="p">,</span>
          <span class="s2">&quot;background_color&quot;</span><span class="o">:</span> <span class="s2">&quot;#52A954&quot;</span><span class="p">,</span>
          <span class="s2">&quot;text_color&quot;</span><span class="o">:</span> <span class="s2">&quot;#FFFFFF&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">&quot;slug&quot;</span><span class="o">:</span> <span class="s2">&quot;rejected&quot;</span><span class="p">,</span>
          <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Rejected&quot;</span><span class="p">,</span>
          <span class="s2">&quot;background_color&quot;</span><span class="o">:</span> <span class="s2">&quot;#D95E40&quot;</span><span class="p">,</span>
          <span class="s2">&quot;text_color&quot;</span><span class="o">:</span> <span class="s2">&quot;#FFFFFF&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">&quot;slug&quot;</span><span class="o">:</span> <span class="s2">&quot;awaiting_analysis&quot;</span><span class="p">,</span>
          <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Awaiting Analysis&quot;</span><span class="p">,</span>
          <span class="s2">&quot;background_color&quot;</span><span class="o">:</span> <span class="s2">&quot;#FFFFFF&quot;</span><span class="p">,</span>
          <span class="s2">&quot;text_color&quot;</span><span class="o">:</span> <span class="s2">&quot;#A2A2A2&quot;</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
    
</code></pre></div>
  </section>
</article>

<article id="update">
  <section class="description">
  <h3><a name="show" href="#show">Update status</a></h3>
  <p>To update an expense status you have to provide the <code>status</code> parameter containing one of the possible
  status to change. Besides, if the status is <code>approved</code> or <code>paid</code> (only if the status the expense changed from is <code>awaiting_analysis</code>) you have to supply the <code>approved_amount</code>.</p>
  <h4>Parameters</h4>
  <table class="parameters">
    <tbody>
      <tr>
        <td valign="top"><strong>status</strong></td>
        <td><strong>string</strong> <em>required</em><br />'awaiting_analysis', 'analyzing', 'pending', 'approved', 'paid' or 'rejected</td>
      </tr>
      <tr>
        <td valign="top"><strong>approved_amount</strong></td>
        <td><strong>float</strong><br />this field is required only if the status is equals to <em>approved</em> or <em>paid</em></td>
      </tr>
      <tr>
        <td valign="top"><strong>approved_amount_currency</strong></td>
        <td><strong>string</strong><br />this field is required only if the status is equals to <em>approved</em> or <em>paid</em><br />based on <a href="/api/v1/#currencies_code">currencies code</a><br />default: 'BRL'</td>
      </tr>
    </tbody>
  </table>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>PUT https://app.rexpense.com/api/v1/expenses/:id/status</pre>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X PUT https://app.rexpense.com/api/v1/expenses/1/status \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'</pre>
    <h4>Response Example Success</h4>
    <pre>HTTP 200 OK</pre>
    <h4>Response Example Failure</h4>
    <pre>HTTP 422 Unprocessable Entity</pre>
    <div class="highlight"><pre><code class="javascript">    <span class="p">{</span>
      <span class="s2">&quot;errors&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;can&#39;t be blank&quot;</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
    
</code></pre></div>
  </section>
</article>

        <footer id="main-footer">
  <p>This project is maintained by <a href="http://www.myfreecomm.com.br">Myfreecomm</a></p>
</footer>

      </section>
    </article>
    <script src="/javascripts/scale.fix.js"></script>
  </body>
</html>
