<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Rexpense API - Balances</title>

    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygments.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <aside id="main-sidebar">
  <img id="main-logo" src="/assets/logo.png">

  <h3>API V1</h3>

  <nav>
    <a href="/api/v1/#summary">Summary</a>
    <a href="/api/v1/#authentication">Authentication</a>
    <a href="/api/v1/#requirements">Requirements</a>
    <a href="/api/v1/#conventions">Conventions</a>

    

    <a href="/api/v1/miscellaneous">Miscellaneous</a>
    
  </nav>

  <h3>Resources</h3>

  <nav>
    <a href="/api/v1/advancements">Advancements</a>
    

    <a href="/api/v1/advancement_participants">Advancements Participants</a>
    

    <a href="/api/v1/attachments">Attachments</a>
    

    <a href="/api/v1/balances">Balances</a>
    
      <nav class="subnav">
        <a href="/api/v1/balances#index">List balances</a>
        <a href="/api/v1/balances#organizations">List organizations balances</a>
        <a href="/api/v1/balances#show">Show balance</a>
      </nav>
    

    <a href="/api/v1/comments">Comments</a>
    

    <a href="/api/v1/expenses">Expenses</a>
    

    <a href="/api/v1/expense_participants">Expenses Participants</a>
    

    <a href="/api/v1/expense_statuses">Expenses Statuses</a>
    

    <a href="/api/v1/memberships">Memberships</a>
    

    <a href="/api/v1/mentionables">Mentionables</a>
    

    <a href="/api/v1/organizations">Organizations</a>
    

    <a href="/api/v1/reimbursements">Reimbursements</a>
    

    <a href="/api/v1/tags">Tags</a>
    

    <a href="/api/v1/notification_preferences">User's Notifications Preferences</a>
    

    <a href="/api/v1/preferences">User's Preferences</a>
    

    <a href="/api/v1/uploads">Uploads</a>
    

    <a href="/api/v1/webhooks">Webhooks</a>
    
  </nav>
</aside>

    <article id="main-content">
      <section id="code-content">
        <article id="section_explanation">
  <section class="description">
    <h2><a name="balances" href="#balances">Balances</a></h2>
    <p>This section describes the API of the balances resource. A balance present a balance of the expenses and the advancements of an user in an organization in a currency.</p>
    <h4>Parameters</h4>
    <table class="parameters">
      <tbody>
        <tr>
          <td><strong>amount:</strong></td>
          <td><strong>float</strong></td>
        </tr>
        <tr>
          <td><strong>currency:</strong></td>
          <td><strong>string</strong></td>
        </tr>
        <tr>
          <td><strong>payer:</strong></td>
          <td><strong>JSON object</strong></td>
        </tr>
        <tr>
          <td><strong>receiver:</strong></td>
          <td>
            <strong>JSON object</strong>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
    <h4>Example of Balance</h4>
    <div class="highlight"><pre><code class="javascript">    <span class="p">{</span>
      <span class="s2">&quot;amount&quot;</span><span class="o">:</span> <span class="mf">1256.33</span><span class="p">,</span>
      <span class="s2">&quot;currency&quot;</span><span class="o">:</span> <span class="s2">&quot;USD&quot;</span><span class="p">,</span>
      <span class="s2">&quot;payer&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Company Inc.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;Organization&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;receiver&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;User&quot;</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">}</span>
    
</code></pre></div>
  </section>
</article>

<article id="index">
  <section class="description">
    <h3><a name="balances" href="#balances">List balances</a></h3>
    <p>List all balances of the current user logged in the request.</p>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>GET https://app.rexpense.com/api/v1/balances</pre>
    <h4>Example request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/balances \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'
    </pre>
    <h4>Response Example Success</h4>
    <pre>HTTP 200 OK</pre>
    <div class="highlight"><pre><code class="javascript">    <span class="p">{</span>
      <span class="s2">&quot;count&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s2">&quot;balances&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;amount&quot;</span><span class="o">:</span> <span class="mf">956.66</span><span class="p">,</span>
          <span class="s2">&quot;currency&quot;</span><span class="o">:</span> <span class="s2">&quot;JPY&quot;</span><span class="p">,</span>
          <span class="s2">&quot;payer&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">...</span>
          <span class="p">},</span>
          <span class="s2">&quot;receiver&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">...</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">...</span>
      <span class="p">]</span>
    <span class="p">}</span>
    
</code></pre></div>
  </section>
</article>

<article id="organizations">
  <section class="description">
    <h3><a name="organizations" href="#organizations">List organizations balances</a></h3>
    <p>List all balances from the organizations where the current logged in user is Administrator or Manager. The balances collection does not include any information about the current logged in user (this can be achievied in the endpoint above).</p>
    <h4>Parameters</h4>
    <table class="parameters">
      <tbody>
        <tr>
          <td><strong>page:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td><strong>per_page:</strong></td>
          <td><strong>integer</strong> <em>limit to 100</em></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>GET https://app.rexpense.com/api/v1/balances/organizations</pre>
    <h4>Example request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/balances/organizations \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'
    </pre>
    <h4>Response Example Success</h4>
    <pre>HTTP 200 OK</pre>
    <div class="highlight"><pre><code class="javascript">    <span class="p">{</span>
      <span class="s2">&quot;count&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s2">&quot;current_page&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;total_pages&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;balances&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;amount&quot;</span><span class="o">:</span> <span class="mf">956.66</span><span class="p">,</span>
          <span class="s2">&quot;currency&quot;</span><span class="o">:</span> <span class="s2">&quot;JPY&quot;</span><span class="p">,</span>
          <span class="s2">&quot;payer&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">...</span>
          <span class="p">},</span>
          <span class="s2">&quot;receiver&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="p">...</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">...</span>
      <span class="p">]</span>
    <span class="p">}</span>
    
</code></pre></div>
  </section>
</article>

<article id="show">
  <section class="description">
    <h3><a name="show" href="#show">Show balance</a></h3>
    <p>Show a balance according to the given user (<code>receiver_id</code>), organization (<code>payer_id</code>) and currency.</p>
    <h4>Parameters</h4>
    <table class="parameters">
      <tbody>
        <tr>
          <td><strong>payer_id:</strong></td>
          <td><strong>integer</strong> <em>required</em></td>
        </tr>
        <tr>
          <td><strong>receiver_id:</strong></td>
          <td><strong>integer</strong> <em>required</em></td>
        </tr>
        <tr>
          <td><strong>currency:</strong></td>
          <td><strong>string</strong> <em>required</em></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>GET https://app.rexpense.com/api/v1/balances/:payer_id</pre>
    <h4>Example request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/balances/1 \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json' \
      -d '{"currency":"USD","receiver_id":1}'
    </pre>
    <h4>Response Example Success</h4>
    <pre>HTTP 200 OK</pre>
    <div class="highlight"><pre><code class="javascript">    <span class="p">{</span>
      <span class="s2">&quot;amount&quot;</span><span class="o">:</span> <span class="mf">956.66</span><span class="p">,</span>
      <span class="s2">&quot;currency&quot;</span><span class="o">:</span> <span class="s2">&quot;USD&quot;</span><span class="p">,</span>
      <span class="s2">&quot;payer&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">...</span>
      <span class="p">},</span>
      <span class="s2">&quot;receiver&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">...</span>
      <span class="p">}</span>
    <span class="p">}</span>
    
</code></pre></div>
  </section>
</article>
        <footer id="main-footer">
  <p>This project is maintained by <a href="http://www.myfreecomm.com.br">Myfreecomm</a></p>
</footer>

      </section>
    </article>
    <script src="/javascripts/scale.fix.js"></script>
  </body>
</html>
