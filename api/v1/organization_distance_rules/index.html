---
layout: default
title: 'Expenses'
---
<article id="section_explanation">
  <section class="description">
    <h2><a name="organization_distance_rules" href="#organization_distance_rules">Organization distance rules</a></h2>
    <p>This section describes the API of the organization distance rule resource.</p>
    <h4>Parameters</h4>
    <table class="parameters">
      <tbody>
        <tr>
          <td><strong>id:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td><strong>amount_cents:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td><strong>organization_id:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td><strong>amount_for_meter:</strong></td>
          <td><strong>float</strong></td>
        </tr>
        <tr>
          <td valign="top"><strong>currency:</strong></td>
          <td><strong>string<br /></strong>based on <a href="{{ site.baseurl }}/api/v1/#currencies_code">currencies code</a></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
    <h4>Example of Distance Rule</h4>
    {% highlight javascript %}
    {
      "id": 1,
      "amount_cents": 12000,
      "organization_id": 1,
      "currency": "BRL"
    }
    {% endhighlight %}
  </section>
</article>

<article id="index">
  <section class="description">
    <h3><a name="index" href="#index">Show distance rule</a></h3>
    <p>Retrieve organization distance rule if exist, or a new object with <code>id</code> containing null value.</p>

    <h4>Parameters</h4>
    <table class="parameters">
      <tbody>
        <tr>
          <td><strong>organization_id:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>GET https://app.rexpense.com/api/v1/organizations/:organization_id/distances_rules</pre>
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/organizations/:organization_id/distances_rules \
        -H 'Accept: application/json' \
        -H 'Content-type: application/json'</pre>
    <h4>Response Example Success</h4>
    <pre>HTTP 200 OK</pre>
    {% highlight javascript %}
    {
      "id": 1,
      ...
    }
    {% endhighlight %}
    <h4>Response Example When Organization Not Have Rule</h4>
    <pre></pre>
    {% highlight javascript %}
    {
      {
        "id": nil,
        "amount_cents": nil,
        "organization_id": 1,
        "currency": nil
      }
    }
    {% endhighlight %}
  </section>
</article>

<article id="update">
  <section class="description">
    <h3><a name="update" href="#update">Update an distance rule</a></h3>

    <h4>Parameters</h4>
    <table class="parameters">
      <tbody>
        <tr>
          <td><strong>organization_id:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td><strong>amount_cents:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td><strong>currency:</strong></td>
          <td><strong>integer</strong></td>
        </tr>
        <tr>
          <td valign="top"><strong>distance_kind:</strong></td>
          <td><strong>string<br /></strong> options: <code>km</code>, <code>mi</code></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="code">
    <h4>Definition</h4>
    <pre>POST https://app.rexpense.com/api/v1/organizations/:organization_id/distances_rules</pre>
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X POST https://app.rexpense.com/api/v1/organizations/:organization_id/distances_rules \
        -H 'Accept: application/json' \
        -H 'Content-type: application/json' \
        -d '{"amount_cents": 1000, "currency": "BRL", "distance_kind": "mi"}'
    </pre>
    <h4>Response Example Success</h4>
    <pre>HTTP 200 OK</pre>
    {% highlight javascript %}
    {
      "id": 1,
      "amount_cents": 1000,
      ...
    }
    {% endhighlight %}
    <h4>HTTP 422 Unprocessable Entity</h4>
    <pre></pre>
    {% highlight javascript %}
    {
      "errors": {
        "currency": [
          "não está incluído na lista",
          "não pode ficar em branco"
        ],
        "amount": [
          "não pode ficar em branco"
        ]
      }
    }
    {% endhighlight %}
    <h4>HTTP 403 Forbidden</h4>
    <pre></pre>
    {% highlight javascript %}
    {
      "errors": {
        "message": "Você não tem permissão para realizar esta ação."
      }
    }
    {% endhighlight %}
  </section>
</article>
