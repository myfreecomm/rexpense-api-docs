---
layout: default
title: "Mentionables"
---
<article id="mentionables">
  <section class="description">
    <h2><a href="#mentionables">Mentionables</a></h2>
    <p>This section describes how a mentionable works. A mentionable is an entity (an user or an organization) that can be mentioned in a body of text, to call out it's attention. For now, only users are mentionable and it is possible to mention them only in comments on an Expense or an Advancement or a Reimbursement. To mention a user you use its <code>mention_name</code> with <code>@</code> as a preffix (<code>@John</code>, for example).</p>
  </section>

  <section class="code">
    <h4>Mentionable Example</h4>
    {% highlight javascript %}
    {
      "id": 1,
      "name": "John Foo",
      "email": "john@example.com",
      "mention_name": "JohnFoo",
      "avatar": [
        {
          "style": "original",
          "url": "https://rexpense-uploads.s3.amazonaws.com/user_avatar/1/original/avatar.png",
          "width": 716,
          "height": 655,
          "expiration": "2014-06-27T20:31:43Z"
        },
        {
          "style": "medium",
          "url": "https://rexpense-uploads.s3.amazonaws.com/user_avatar/1/medium/avatar.png",
          "width": 300,
          "height": 300,
          "expiration": "2014-06-27T20:31:43Z"
        },
        {
          "style": "thumb",
          "url": "https://rexpense-uploads.s3.amazonaws.com/user_avatar/1/thumb/avatar.png",
          "width": 100,
          "height": 100,
          "expiration": "2014-06-27T20:31:43Z"
        }
        {
          "style": "tiny",
          "url": "https://rexpense-uploads.s3.amazonaws.com/user_avatar/1/tiny/avatar.png",
          "width": 48,
          "height": 48,
          "expiration": "2014-06-27T20:31:43Z"
        }
      ]
    }
    {% endhighlight %}
  </section>
</article>

<article id="index">
  <section class="description">
    <h3><a href="#index">List all mentionables</a></h3>
    <p>This endpoint lists all mentionable users of a specific resource (an Expense or an Advancement or a Reimbursement).</p>
    <p>The response returns an <a href="http://en.wikipedia.org/wiki/HTTP_ETag" target="_blank">HTTP ETag</a> for caching and improving efficience. On your first request, you should save the returned ETag value and supply it on subsequent requests for the same resource. If you make a request providing an ETag and the resource has not changed on the server, it will respond with <code>304 Not Modified</code> HTTP Status and an empty body.
  </section>

  <section class="code">
    <h4><strong>Definition (mentionables of an Expense)</strong></h4>
    <pre>GET https://app.rexpense.com/api/v1/expenses/:expense_id/mentionables</pre>
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/expenses/1/mentionables \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'</pre>
    <h4>Response Example</h4>
    <pre>ETag cde0a947653ebd83b7294edddb29ad37</pre>
    {% highlight javascript %}
    {
      "mentionables": [{ "id": 1, "name": "John", ... }]
    }
    {% endhighlight %}
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/expenses/1/mentionables \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'
      -H 'ETag: cde0a947653ebd83b7294edddb29ad37'</pre>
    <h4>Response Example</h4>
    <pre>304 Not Modified</pre>

    <h4><strong>Definition (mentionables of an Advancement)</strong></h4>
    <pre>GET https://app.rexpense.com/api/v1/advancements/:advancement_id/mentionables</pre>
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/advancements/1/mentionables \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'</pre>
    <h4>Response Example</h4>
    <pre>ETag cde0a947653ebd83b7294edddb29ad37</pre>
    {% highlight javascript %}
    {
      "mentionables": [{ "id": 1, "name": "John", ... }]
    }
    {% endhighlight %}
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/advancements/1/mentionables \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'
      -H 'ETag: cde0a947653ebd83b7294edddb29ad37'</pre>
    <h4>Response Example</h4>
    <pre>304 Not Modified</pre>

    <h4><strong>Definition (mentionables of a Reimbursement)</strong></h4>
    <pre>GET https://app.rexpense.com/api/v1/reimbursements/:reimbursement_id/mentionables</pre>
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/reimbursements/1/mentionables \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'</pre>
    <h4>Response Example</h4>
    <pre>ETag cde0a947653ebd83b7294edddb29ad37</pre>
    {% highlight javascript %}
    {
      "mentionables": [{ "id": 1, "name": "John", ... }]
    }
    {% endhighlight %}
    <h4>Example Request</h4>
    <pre>$ curl -u $YOUR_API_TOKEN:X -X GET https://app.rexpense.com/api/v1/reimbursements/1/mentionables \
      -H 'Accept: application/json' \
      -H 'Content-type: application/json'
      -H 'ETag: cde0a947653ebd83b7294edddb29ad37'</pre>
    <h4>Response Example</h4>
    <pre>304 Not Modified</pre>
  </section>
</article>
